// ==UserScript==
// @name                ChatGPT Infinity âˆž
// @name:af             ChatGPT Oneindig âˆž
// @name:ar             Ø¯Ø±Ø¯Ø´Ø©GPT Ø¥Ù†ÙÙŠÙ†ÙŠØªÙŠ âˆž
// @name:az             ChatGPT Sonsuzluq âˆž
// @name:be             ChatGPT Ð‘ÑÑÐºÐ¾Ð½Ñ†Ð°ÑÑ†ÑŒ âˆž
// @name:bg             ChatGPT Ð‘ÐµÐ·ÐºÑ€Ð°Ð¹Ð½Ð¾ÑÑ‚ âˆž
// @name:bn             ChatGPT à¦‡à¦¨à¦«à¦¿à¦¨à¦¿à¦Ÿà¦¿ âˆž
// @name:bo             ChatGPT à½‘à½‚à¼‹à½¦à¾à¾±à½ºà½¦à¼‹à½¡à½¼à½‘à¼‹à½”à¼‹ âˆž
// @name:bs             ChatGPT Beskrajnost âˆž
// @name:ca             ChatGPT Infinit âˆž
// @name:ckb            ChatGPT Ù†Û•Ù¾ÛŽÙ†Ø¯ÛŒÛŒÛ• âˆž
// @name:cs             ChatGPT NekoneÄno âˆž
// @name:cy             ChatGPT Anfeidredd âˆž
// @name:da             ChatGPT Uendelighed âˆž
// @name:de             ChatGPT Unendlichkeit âˆž
// @name:dv             ChatGPT Þ‚ÞªÞˆÞ¦ÞŒÞ¦ Þ„Þ§ÞˆÞ¦Þ‡Þ°Þ–Þ­ÞŽÞ¬Þ‚Þ° âˆž
// @name:dz             ChatGPT à½¢à¾©à½ºà½‘à¼‹à½¦à¾’à¾²à½²à½–à¼‹à½‚à½‰à½²à½¦à¼‹ âˆž
// @name:el             ChatGPT Î†Ï€ÎµÎ¹ÏÎ¿ âˆž
// @name:eo             ChatGPT Infinito âˆž
// @name:es             ChatGPT Infinito âˆž
// @name:et             ChatGPT LÃµpmatus âˆž
// @name:eu             ChatGPT Infinitua âˆž
// @name:fa             ChatGPT Ø¨ÛŒÙ†Ù‡Ø§ÛŒØª âˆž
// @name:fi             ChatGPT Ã„Ã¤retÃ¶n âˆž
// @name:fo             ChatGPT Ã“endanlighed âˆž
// @name:fr             ChatGPT Infini âˆž
// @name:fr-CA          ChatGPT Infini âˆž
// @name:gl             ChatGPT Infinito âˆž
// @name:gu             ChatGPT àª…àª¨àª‚àª¤ âˆž
// @name:haw            ChatGPT MÄhina Ê»ole âˆž
// @name:he             ChatGPT ××™× ×¡×•×£ âˆž
// @name:hi             ChatGPT à¤…à¤¨à¤‚à¤¤ âˆž
// @name:hr             ChatGPT Beskrajnost âˆž
// @name:hu             ChatGPT VÃ©gtelensÃ©g âˆž
// @name:hy             ChatGPT Ô±Õ¶Õ¾Õ¥Ö€Õ» âˆž
// @name:id             ChatGPT Infinity âˆž
// @name:is             ChatGPT Ã“endanleiki âˆž
// @name:it             ChatGPT Infinito âˆž
// @name:ja             ChatGPT ç„¡é™ âˆž
// @name:ka             ChatGPT áƒ£áƒ¡áƒáƒ¡áƒ áƒ£áƒšáƒáƒ‘áƒ âˆž
// @name:km             ChatGPT áž¢áž“áž¡áž¶áž‰ âˆž
// @name:kn             ChatGPT à²…à²¨à²‚à²¤ âˆž
// @name:ko             ChatGPT ë¬´í•œ âˆž
// @name:ku             ChatGPT PÃªÅŸangeh âˆž
// @name:ky             ChatGPT Ð˜Ñ‡ÐºÐ¸ âˆž
// @name:la             ChatGPT Infinitas âˆž
// @name:lb             ChatGPT Unendlechkeet âˆž
// @name:lo             ChatGPT àºšà»à»ˆà»„àº›àºªàº¹à»ˆàºˆàº±àºàº‚àº­àº‡àºªàº²àº¡àº«àº§à»ˆàº²àº‡ âˆž
// @name:lt             ChatGPT BegalybÄ— âˆž
// @name:lv             ChatGPT BezgalÄ«ba âˆž
// @name:mk             ChatGPT Ð‘ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ÑÑ‚ âˆž
// @name:ml             ChatGPT à´…à´¨à´¨àµà´¤à´¤ âˆž
// @name:mn             ChatGPT Ð¢ÑÐ³Ñˆ Ð±ÑƒÑ âˆž
// @name:mt             ChatGPT InfinitÃ  âˆž
// @name:my             ChatGPT á€™á€¼á€„á€ºá€€á€½á€„á€ºá€¸ âˆž
// @name:ne             ChatGPT à¤…à¤¨à¤‚à¤¤ âˆž
// @name:nl             ChatGPT Oneindigheid âˆž
// @name:no             ChatGPT Uendelighet âˆž
// @name:pa             ChatGPT à¨‡à¨¨à¨«à¨¿à¨¨à¨¿à¨Ÿà©€ âˆž
// @name:pl             ChatGPT NieskoÅ„czonoÅ›Ä‡ âˆž
// @name:ps             ChatGPT Ù„Ø§Ù…Ú©Ø§Ù† âˆž
// @name:pt             ChatGPT Infinito âˆž
// @name:pt-BR          ChatGPT Infinito âˆž
// @name:ro             ChatGPT Infinitate âˆž
// @name:ru             ChatGPT Ð‘ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾ÑÑ‚ÑŒ âˆž
// @name:si             ChatGPT à¶…à¶±à¶±à·Šà¶­à¶º âˆž
// @name:sk             ChatGPT NekoneÄno âˆž
// @name:sl             ChatGPT NeskonÄnost âˆž
// @name:so             ChatGPT Qaybtiisa âˆž
// @name:sr             ChatGPT Ð‘ÐµÑÐºÑ€Ð°Ñ˜Ð½Ð¾ÑÑ‚ âˆž
// @name:sv             ChatGPT OÃ¤ndlighet âˆž
// @name:ta             ChatGPT à®®à¯à®Ÿà®¿à®µà®¿à®²à®¿à®°à¯à®¨à¯à®¤à¯ âˆž
// @name:te             ChatGPT à°…à°¨à°‚à°¤à°¤ âˆž
// @name:tg             ChatGPT Ð‘ÐµÐ¾Ò³Ó£ âˆž
// @name:th             ChatGPT à¸­à¸™à¸±à¸™à¸•à¹Œ âˆž
// @name:ti             ChatGPT áˆ˜á‹°áˆ˜áˆ­ âˆž
// @name:tk             ChatGPT Sonsuzluk âˆž
// @name:tr             ChatGPT Sonsuzluk âˆž
// @name:uk             ChatGPT ÐÐµÑÐºÑ–Ð½Ñ‡ÐµÐ½Ð½Ñ–ÑÑ‚ÑŒ âˆž
// @name:ur             ChatGPT Ø¨Û’ Ø§Ù†ØªÛØ§ âˆž
// @name:vi             ChatGPT VÃ´ cÃ¹ng âˆž
// @name:yi             ChatGPT ××™× ×¤×™× ×™×˜×™ âˆž
// @name:zh             ChatGPT æ— é™ âˆž
// @name:zh-CN          ChatGPT æ— é™ âˆž
// @name:zh-HK          ChatGPT ç„¡é™ âˆž
// @name:zh-SG          ChatGPT æ— é™ âˆž
// @name:zh-TW          ChatGPT ç„¡é™ âˆž
// @description         Generate endless answers from all-knowing ChatGPT (in any language!)
// @description:af      Genereer eindelose antwoorde van die alwetende ChatGPT (in enige taal!)
// @description:am      áˆ“á‰ áˆ¬á‰³á‹­ áŠ£á‹­áŠá‰ áˆ­áŠ“ áˆ˜áˆáŠ¥áŠ½á‰² áŠ£áˆˆáŠ¹áˆ áŠ£áˆŽáŠ»á‹Š á‹«áˆáŠ£á‹­á‰µ ChatGPT (á‰ á‰‹áŠ•á‰‹!)
// @description:ar      Ù‚Ù… Ø¨ØªÙˆÙ„ÙŠØ¯ Ø¥Ø¬Ø§Ø¨Ø§Øª Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠØ© Ù…Ù† ChatGPT Ø§Ù„Ù…Ø¹Ø±Ù Ø¨ÙƒÙ„ Ø´ÙŠØ¡ (Ø¨Ø£ÙŠ Ù„ØºØ©!)
// @description:az      HÉ™r ÅŸeyi bilÉ™n ChatGPT-dÉ™n sonsuz cavablar yaradÄ±n (hÉ™r hansÄ± bir dil ilÉ™!)
// @description:be      Ð¡Ñ‚Ð²Ð°Ñ€Ñ‹Ñ†Ðµ Ð±ÑÑÐºÐ¾Ð½Ñ†Ñ‹ Ð°Ð´ÐºÐ°Ð·Ñ‹ Ð°Ð´ ÑžÑÐµÐ²ÐµÐ´ÑƒÑ‡Ð°Ð³Ð° ChatGPT (Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð²Ðµ!)
// @description:bem     Pamene mwaposa mafolosho a mÊŒnoze ChatGPT (mu lupiya lwa ndalama!)
// @description:bg      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ð¹Ñ‚Ðµ Ð±ÐµÐ·ÐºÑ€Ð°Ð¹Ð½Ð¸ Ð¾Ñ‚Ð³Ð¾Ð²Ð¾Ñ€Ð¸ Ð¾Ñ‚ Ð²ÑÐµÐ·Ð½Ð°Ð¹Ð½Ð¸Ñ ChatGPT (Ð½Ð° Ð²ÑÑÐº ÐµÐ·Ð¸Ðº!)
// @description:bn      à¦¸à¦°à§à¦¬à¦œà§à¦ž à¦šà§à¦¯à¦¾à¦Ÿà¦œà¦¿à¦ªà¦¿à¦Ÿà¦¿ à¦¥à§‡à¦•à§‡ à¦…à¦¸à§€à¦® à¦‰à¦¤à§à¦¤à¦° à¦¤à§ˆà¦°à¦¿ à¦•à¦°à§à¦¨ (à¦¯à§‡ à¦•à§‹à¦¨ à¦­à¦¾à¦·à¦¾à¦¯à¦¼!)
// @description:bo      à½–à½Ÿà½¼à½¦à¼‹à½”à¼‹à½–à½¢à¾—à½¼à½‘à¼‹à½”à½ à½²à¼‹ChatGPTà½‚à½²à¼‹à½‚à¾²à½¼à½¦à¼‹à½”à½¢à¼‹à½ à½‚à¾²à½´à½–à¼‹à½ à½‘à½ºà½˜à½¦à¼‹à½–à½¦à¾à¾±à½ºà½‘à¼‹à½˜à½²à¼‹à½ à½¼à½„à½¦à¼‹à½”à¼ (à½£à½¦à¼‹à½¦à¾à½–à½¦à¼‹à½€à¾±à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½‚à½²à¼‹à½¦à¾à½‘à¼‹!)
// @description:bs      GeneriÅ¡ite beskonaÄne odgovore od sveznajuÄ‡eg ChatGPT (na bilo kom jeziku!)
// @description:ca      Genereu respostes infinites des de l'omniscient ChatGPT (en qualsevol idioma!)
// @description:ceb     Sukdagon ang walay katapusan nga mga tubag gikan sa tanan-mahibaw-anong ChatGPT (sa bisan unsang pinulongan!)
// @description:ckb     Ù¾ÛŽØ´Ø¨ÛŒÙ†ÛŒ Ú†Ø§ØªÚ¯Ù¾ØªÛ•Ú©Û• Ø¯ÛŒØ§Ø±ÛŒÛŒÛ•Ú©Ø§Ù†ÛŒ Ù¾ÛŽÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù† Ø¨Ù†ÙˆÙˆØ³Û• (Ø¨Û• Ù‡Û•Ø± Ø²Ù…Ø§Ù†ÛŽÚ©ÛŒ Ø¯ÛŒÚ©Û•!)
// @description:cs      Generujte nekoneÄnÃ© odpovÄ›di od vÅ¡evÄ›doucÃ­ho ChatGPT (v jakÃ©mkoli jazyce!)
// @description:cy      Cynhyrchwch atebion diddiwedd o ChatGPT y gÅµr sy'n gwybod popeth (mewn unrhyw iaith!)
// @description:da      Generer endelÃ¸se svar fra den altvidende ChatGPT (pÃ¥ hvilket som helst sprog!)
// @description:de      Generieren Sie endlose Antworten von dem allwissenden ChatGPT (in beliebiger Sprache!)
// @description:dv      Þ‡Þ¬Þ€Þ¬Þ‚Þ‹ÞªÞ†Þ¦Þ—Þ¬Þ‡Þ°ÞˆÞ¬ÞÞ© Þ—Þ¬Þ‡Þ°ÞÞ¨ÞÞ°Þ“Þ¯Þ‚Þ¦ÞÞ° Þ‚Þ¨Þ”Þ¦ÞÞ¦Þ‡Þ¨ÞŠÞ¦Þ‡Þ¨ÞˆÞ¦Þ‚Þ© ÞÞªÞƒÞªÞ†Þ®ÞÞ° ÞŠÞ©Þ€ÞªÞ‚Þ° (Þ†Þ¦Þ‚Þ°Þ‡Þ¬ÞˆÞ¬ÞÞ° Þ€Þ¦Þ‰Þ¦ÞˆÞ¬ÞÞ°!)
// @description:dz      à½†à½‚à½¦à¼‹à½€à¾±à½²à½¦à¼‹à½£à¼‹à½–à½¢à¾Ÿà½ºà½“à¼‹à½‚à½„à¼‹à½¢à½´à½„à¼‹à½‚à½²à¼‹ChatGPTà½‚à½²à¼‹à½šà½¼à½‚à½¦à¼‹à½”à½ à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½‚à¾±à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹à½–à¾±à½ºà½‘à¼‹à½”à¼ (à½–à¾³à¼‹à½˜à½ à½²à¼‹à½¦à¾à½‘à¼‹à½¡à½²à½‚à¼‹!)
// @description:el      Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®ÏƒÏ„Îµ Î±Ï„ÎµÎ»ÎµÎ¯Ï‰Ï„ÎµÏ‚ Î±Ï€Î±Î½Ï„Î®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î¿ Î³Î½ÏŽÏƒÏ„Î· ChatGPT (ÏƒÎµ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ Î³Î»ÏŽÏƒÏƒÎ±!)
// @description:eo      Kreu nesfinaÄµajn respondojn el la Ä‰io-scianta ChatGPT (en ajn lingvo!)
// @description:es      Genera respuestas infinitas desde el ChatGPT omnisciente (Â¡en cualquier idioma!)
// @description:et      Loo lÃµputuid vastuseid kÃµike-teadvast ChatGPT-st (mis tahes keeles!)
// @description:eu      Sortu erantzun infinituak guztiz-arduratsuaren ChatGPT-tik (edozein hizkuntzan!)
// @description:fa      Ù¾Ø§Ø³Ø®Ù‡Ø§ÛŒ Ø¨ÛŒÙ¾Ø§ÛŒØ§Ù†ÛŒ Ø±Ø§ Ø§Ø² ChatGPT Ù‡Ù…Ù‡Ø¯Ø§Ù†Ø§ ØªÙˆÙ„ÛŒØ¯ Ú©Ù†ÛŒØ¯ (Ø¨Ù‡ Ù‡Ø± Ø²Ø¨Ø§Ù†ÛŒ!)
// @description:fi      Luo loputtomia vastauksia kaikkitietÃ¤vÃ¤stÃ¤ ChatGPT:stÃ¤ (millÃ¤ tahansa kielellÃ¤!)
// @description:fo      Skapa endalaus svÃ¸r frÃ¡ altvitandi ChatGPT (Ã¡ hvÃ¸rjum mÃ¡lrÃ¸Ã°!)
// @description:fr      GÃ©nÃ©rez des rÃ©ponses infinies Ã  partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:fr-CA   GÃ©nÃ©rez des rÃ©ponses infinies Ã  partir de ChatGPT qui sait tout (dans n'importe quelle langue!)
// @description:gd      Cruthaich freagairtean gun crÃ¬och Ã  ChatGPT a tha a' faighneachd gach cÃ il (ann an sam bith cÃ nan!)
// @description:gl      Xere as respostas infinitas do ChatGPT que todo o sabe (en calquera lingua!)
// @description:gu      àªœà«àªžàª¾àª¨àªµàª¾àª¨ ChatGPT àª¥à«€ àª…àª¨àª‚àª¤ àªœàªµàª¾àª¬à«‹ àª‰àª¤à«àªªàª¨ àª•àª°à«‹ (àª•à«‹àªˆ àªªàª£ àª­àª¾àª·àª¾àª®àª¾àª‚!)
// @description:haw     HaleleÊ»a i nÄ Ê»Ålelo pÄlulelo mai ke kupa Ê»ike loa o ChatGPT (i loko o kÄ“lÄ Ê»Ålelo aku aÊ»e!)
// @description:he      ×™×¦×¨×• ×ª×©×•×‘×•×ª ××™× ×¡×•×¤×™×•×ª ×ž×”-ChatGPT ×”×ž×‘×™×Ÿ ×”×›×œ (×‘×›×œ ×©×¤×”!)
// @description:hi      à¤¸à¤­à¥€-à¤œà¤¾à¤¨à¤¨à¥‡à¤µà¤¾à¤²à¥‡ à¤šà¥ˆà¤Ÿà¤œà¥€à¤ªà¥€à¤Ÿà¥€ à¤¸à¥‡ à¤…à¤¨à¤‚à¤¤ à¤‰à¤¤à¥à¤¤à¤°à¥‹à¤‚ à¤•à¤¾ à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤•à¤°à¥‡à¤‚ (à¤•à¤¿à¤¸à¥€ à¤­à¥€ à¤­à¤¾à¤·à¤¾ à¤®à¥‡à¤‚!)
// @description:hr      Generirajte beskrajne odgovore iz sveznajuÄ‡eg ChatGPT-a (na bilo kojem jeziku!)
// @description:ht      Jenere repons san fen soti nan ChatGPT k-ap konnen tout bagay yo (nan nenpÃ²t lang!)
// @description:hu      VÃ©gtelen vÃ¡laszokat generÃ¡ljon a mindentudÃ³ ChatGPT-bÅ‘l (bÃ¡rmely nyelven!)
// @description:hy      ÕÕ¿Õ¥Õ²Õ®Õ¥Ö„ Õ¡Õ¶Õ½Õ¡Õ°Õ´Õ¡Õ¶Õ¡ÖƒÕ¡Õ¯ ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶Õ¶Õ¥Ö€ Õ¡Õ´Õ¥Õ¶Õ¡Õ£Õ«Õ¿Õ¡Õ¯Õ¡Õ¶ ChatGPT-Õ«Ö (ÖÕ¡Õ¶Õ¯Õ¡ÖÕ¡Õ® Õ¬Õ¥Õ¦Õ¸Ö‚Õ¶ Õ´Õ¥Õ»!)
// @description:id      Hasilkan jawaban tak terbatas dari ChatGPT yang tahu segalanya (dalam bahasa apa pun!)
// @description:is      BÃºiÃ° til endalaus svÃ¶r frÃ¡ allvissu ChatGPT (Ã¡ hvaÃ°a tungumÃ¡li sem er!)
// @description:it      Genera risposte infinite dall'onnisciente ChatGPT (in qualsiasi lingua!)
// @description:ja      ã‚ã‚‰ã‚†ã‚‹è¨€èªžã§å…¨çŸ¥ã®ChatGPTã‹ã‚‰ç„¡é™ã®å›žç­”ã‚’ç”Ÿæˆã—ã¾ã™ï¼
// @description:jv      Mbukak panggung jawaban saka ChatGPT kang suwÃ©nÃ©h kabÃ¨h (kÃ©nging basa apapun!)
// @description:ka      áƒ¨áƒ”áƒ¥áƒ›áƒ”áƒœáƒ˜áƒ— áƒ£áƒ¡áƒáƒ¡áƒ áƒ£áƒšáƒ áƒžáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜ áƒ§áƒ•áƒ”áƒšáƒ’áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ£áƒšáƒ˜ ChatGPT-áƒ“áƒáƒœ (áƒœáƒ”áƒšáƒ áƒ”áƒœáƒáƒ–áƒ”!)
// @description:kab     Kkes-as yidir seg yisem-asen n tafriqt ara ddunnit ChatGPT (di tifrat ara ddunit!)
// @description:kk      Ð‘Ð°Ñ€Ð»Ñ‹Ò› Ñ‚Ñ–Ð»Ð´Ðµ Ð±Ð°Ñ€ Ð±Ñ–Ð»Ð³ÐµÐ½ ChatGPT-Ð´ÐµÐ½ ÑˆÐµÐºÑÑ–Ð· Ð¶Ð°ÑƒÐ°Ð¿Ñ‚Ð°Ñ€ Ð¶Ð°ÑÐ°Ñƒ (Ò›Ð°Ð½Ð´Ð°Ð¹ Ð´Ð° Ñ‚Ñ–Ð»Ð´Ðµ!)
// @description:km      áž”áž„áŸ’áž€áž¾ážáž…áž˜áŸ’áž›áž¾áž™áž˜áž·áž“ážƒáž¾áž‰áž…áž”áŸ‹áž–áž¸ ChatGPT ážŠáŸ‚áž›áž…áŸ‚áž€ážŸáž„áŸ’ážŸáŸáž™áž‘áž¶áŸ†áž„áž¢ážŸáŸ‹ (áž‡áž¶áž“áŸ‹áž‚áŸ’ážšáž”áŸ‹áž—áž¶ážŸáž¶!)
// @description:kn      à²Žà²²à³à²²à²°à³ à²¤à²¿à²³à²¿à²¦à²¿à²°à³à²µ à²šà²¾à²Ÿà³à²œà²¿à²ªà²¿à²Ÿà²¿à²¯à²¿à²‚à²¦ à²…à²¨à²‚à²¤ à²‰à²¤à³à²¤à²°à²—à²³à²¨à³à²¨à³ à²°à²šà²¿à²¸à²¿ (à²¯à²¾à²µà³à²¦à³‡ à²­à²¾à²·à³†à²¯à²²à³à²²à²¿!)
// @description:ko      ì–´ë–¤ ì–¸ì–´ë¡œë“ ì§€ ë¬´ê¶ë¬´ì§„í•œ ë‹µë³€ì„ ë§Œë“¤ì–´ë‚´ëŠ” ChatGPTìž…ë‹ˆë‹¤!
// @description:ku      Ji ChatGPT-Ãª, ku hemÃ® tiÅŸtan dizane, bersiva li serbazÃªn li dor qewÃ® yÃªn hilbijartin (bi hertiÅŸtÃ® zimanek!)
// @description:ky      Ð¢Ò¯Ð· Ð±Ð¸Ð»Ð¸Ð¼Ð´Ò¯Ò¯ ChatGPT Ð±Ð¾ÑŽÐ½Ñ‡Ð° Ñ‡Ñ‹Ð³Ð°Ñ€Ð¼Ð°Ð»Ð°Ñ€Ð´Ñ‹ Ð¶Ð°ÑÐ°
// @description:la      Genera infinitas responsiones de ChatGPT omniscio (in qualibet lingua!)
// @description:lb      GenerÃ©iert endlos Ã„ntwerten vum allwÃ«ssende ChatGPT (op jiddere Sprooch!)
// @description:lo      àºªà»‰àº²àº‡àºœàº»àº™àºªàº»àº”àº—àºµà»ˆàºªàº²àº¡àº²àº”à»€àº¥àº·àº­àºàºˆàº²àºàºžàº²àºªàº²àº—àºµà»ˆàº®àº¹à»‰àºšàº¸àºàºàº³àº¥àº±àº‡ ChatGPT (à»ƒàº™àºžàº²àºªàº²à»ƒàº”à»œàº¶à»ˆàº‡!)
// @description:lt      Sugeneruokite begalinÄ¯ atsakymÅ³ kiekÄ¯ iÅ¡ visai Å¾inoanÄio ChatGPT (bet kuria kalba!)
// @description:lv      Ä¢enerÄ“ nebeidzamus atbilÅ¾u variantus no vissapratÄ«gÄ ChatGPT (jebkurÄ valodÄ!)
// @description:mg      Mandoza ny valiny miaraka amin'ny ChatGPT mahalala ny zavatra rehetra (amin'ny fiteny iray kokoa!)
// @description:mi      WhakapÅ«mau i ngÄ whakautu kore mutunga mai i te ChatGPT matau i ngÄ reo katoa!
// @description:mk      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€Ð°Ñ˜Ñ‚Ðµ Ð±ÐµÐ·Ð±Ñ€Ð¾Ñ˜ Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð¸ Ð¾Ð´ ÑÃ¨Ð·Ð½Ð°ÐµÐ½Ð°Ñ‚Ð° ChatGPT (Ð½Ð° Ð±Ð¸Ð»Ð¾ ÐºÐ¾Ñ˜ Ñ˜Ð°Ð·Ð¸Ðº!)
// @description:ml      à´Žà´¨àµà´¨àµ†à´´àµà´¤à´¾àµ» à´…à´¨à´¨àµà´¯à´¨à´¾à´¯ ChatGPT (à´à´¤àµ†à´™àµà´•à´¿à´²àµà´‚ à´­à´¾à´·à´¯à´¿àµ½) à´‡à´¨àµà´¨àµ‡à´•àµà´•àµà´‚ à´µàµ‡à´£àµà´Ÿà´¿ à´…à´µà´¸à´¾à´¨à´¿à´ªàµà´ªà´¿à´•àµà´•àµà´•!
// @description:mn      Ð¡Ò¯Ò¯Ð»Ð´ Ò¯Ð»Ð´ÑÑÐ½ÑÑÑÑÑ Ñ…Ð°Ð¹Ñ€Ñ†Ð°Ð³ Ð±Ð¾Ð»Ð¾Ñ… ChatGPT (ÑÐ¼Ð°Ñ€ Ñ‡ Ñ…ÑÐ» Ð´ÑÑÑ€) Ð´ÑÑÑ€Ñ…ÑÑÑ€ ÑÑ€Ð¸Ñ…
// @description:ms      Cipta pelbagai jawapan daripada ChatGPT yang tahu segala-galanya (dalam apa-apa bahasa!)
// @description:mt      IÄ¡Ä¡enera risposti infiniti mill-ChatGPT li kollha jaf (f'xi lingwa!)
// @description:my      á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯á€žá€„á€ºá€›á€­á€¯á€¸á€›á€­á€¯á€¸á€†á€½á€²á€”á€­á€¯á€„á€ºá€žá€Šá€ºá€· ChatGPT (á€á€…á€ºá€á€¯á€™á€¾á€¬á€šá€°á€žá€¯á€¶á€¸á€›á€”á€º!)
// @description:ne      à¤¸à¤¬à¥ˆ-à¤œà¥à¤žà¤¾à¤¨à¥€ ChatGPT à¤¬à¤¾à¤Ÿ à¤…à¤¨à¤‚à¤¤ à¤‰à¤¤à¥à¤¤à¤°à¤¹à¤°à¥‚ à¤‰à¤¤à¥à¤ªà¤¨à¥à¤¨ à¤—à¤°à¥à¤¨à¥à¤¹à¥‹à¤¸à¥ (à¤•à¥à¤¨à¥ˆ à¤ªà¤¨à¤¿ à¤­à¤¾à¤·à¤¾à¤®à¤¾!)
// @description:nl      Genereer eindeloze antwoorden van alwetende ChatGPT (in elke taal!)
// @description:no      Generer endelÃ¸se svar fra allvitende ChatGPT (pÃ¥ hvilket som helst sprÃ¥k!)
// @description:ny      Galimoto mabwino a mtendere zosiyanasiyana kuchokera ku ChatGPT woyankhula zonse! (muyankhulitsa chilichonse!)
// @description:pa      à¨¸à¨­ à¨œà¨¾à¨£ à¨µà¨¾à¨²à©‡ ChatGPT à¨¤à©‹à¨‚ à¨²à©°à¨¬à©‡ à¨‰à©±à¨¤à¨°à¨¾à¨‚ à¨¨à©‚à©° à¨¬à¨£à¨¾à¨“ (à¨•à¨¿à¨¸à©‡ à¨µà©€ à¨­à¨¾à¨¸à¨¼à¨¾ à¨µà¨¿à©±à¨š!)
// @description:pap     Hasi respuesta sinfin di ChatGPT ku tur sabi (na kua idioma!)
// @description:pl      Generuj nieskoÅ„czone odpowiedzi od wszechwiedzÄ…cego ChatGPT (w dowolnym jÄ™zyku!)
// @description:ps      Ø¯ Ù‡ØºÙˆÛŒ Ú†Ù¼Ú©Ø§Ù„ ChatGPT Ù„Ø®ÙˆØ§ Ù†Ù‡Ø§ÛŒØª Ø¬ÙˆØ§Ø¨ÙˆÙ†Ù‡ Ø¬ÙˆÚ“Ù‡ Ú©Ú“Ø¦ (Ø¯ Ù‡Ø± ÛŒÙˆÙ‡ Ú˜Ø¨Ù‡ Ú©ÛŒ!)
// @description:pt      Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:pt-BR   Gere respostas infinitas do ChatGPT onisciente (em qualquer idioma!)
// @description:rn      Basha inzira nk'itandukanye z'uko ChatGPT uzi (mu rurimi rwose!)
// @description:ro      GenereazÄƒ rÄƒspunsuri infinite de la ChatGPT omniscient (Ã®n orice limbÄƒ!)
// @description:ru      Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð±ÐµÑÐºÐ¾Ð½ÐµÑ‡Ð½Ñ‹Ðµ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹ Ð¾Ñ‚ Ð²ÑÐµÐ·Ð½Ð°ÑŽÑ‰ÐµÐ³Ð¾ ChatGPT (Ð½Ð° Ð»ÑŽÐ±Ð¾Ð¼ ÑÐ·Ñ‹ÐºÐµ!)
// @description:rw      Banda inama z'imirimo isigaye zose z'umuco wa ChatGPT (mu rurimi rwose!)
// @description:sg      Tia ngamana nga mbetela ti ChatGPT tozuwa mitayi mingi (po wundi ndimi yo ngambo!)
// @description:si      à·ƒà·’à¶ºà·…à·” à¶¯à·à¶±à¶§à¶¸à¶­à·Š à·ƒà·„à¶­à·’à¶šà¶´à¶­à·Šà¶šà¶»à¶± à¶­à·€à¶­à·Š à·ƒà·’à¶­à·’à¶ºà¶¸à·Š à·ƒà·à¶šà·ƒà·”à¶¸à·Š à¶½à¶¶à· à¶¯à·™à¶±à·Šà¶±à·à·€à·– ChatGPT à·ƒà·‘à¶¯à·“à¶¸ (à¶•à¶±à·‘à¶¸ à¶·à·à·‚à·à·€à·™à¶±à·Šà¶¸!)
// @description:sk      Generujte nekoneÄnÃ© odpovede od vÅ¡evietajÃºceho ChatGPT (v akomkoÄ¾vek jazyku!)
// @description:sl      Generirajte neskonÄne odgovore iz vsevednega ChatGPT (v katerem koli jeziku!)
// @description:sm      Faia se faiga tele i le ChatGPT eseese (i nisi gagana!)
// @description:sn      Simudza mhinduro dzakawanda kubva kune ChatGPT ichiwanikwa chisarudzo! (mune rimwe nguva!)
// @description:so      Kor u qaado jawaabo kala duwan oo ka soo saar ChatGPT (luuqad ka mid ah!)
// @description:sr      Ð“ÐµÐ½ÐµÑ€Ð¸ÑˆÐ¸Ñ‚Ðµ Ð±ÐµÐ·Ð±Ñ€Ð¾Ñ˜ Ð¾Ð´Ð³Ð¾Ð²Ð¾Ñ€Ð° Ð¾Ð´ ÑÐ²ÐµÐ¼Ð¾Ñ›Ð½Ð¾Ð³ ChatGPT (Ð½Ð° Ð±Ð¸Ð»Ð¾ ÐºÐ¾Ð¼ Ñ˜ÐµÐ·Ð¸ÐºÑƒ!)
// @description:sv      Generera oÃ¤ndliga svar frÃ¥n allvetande ChatGPT (pÃ¥ valfritt sprÃ¥k!)
// @description:sw      Toa majibu yasiyokuwa na mwisho kutoka kwa ChatGPT mwenye maarifa yote (katika lugha yoyote!)
// @description:ta      à®…à®©à¯ˆà®¤à¯à®¤à¯ à®¤à®•à®µà®²à¯ˆà®¯à¯à®®à¯ à®…à®±à®¿à®¯à®ªà¯à®ªà®Ÿà¯à®Ÿ à®šà¯†à®¾à®¨à¯à®¤à®®à®¾à®© ChatGPT à®‡à®²à®¿à®°à¯à®¨à¯à®¤à¯ à®®à¯à®Ÿà®¿à®µà¯à®•à®³à¯ˆ à®‰à®°à¯à®µà®¾à®•à¯à®•à®µà¯à®®à¯ (à®Žà®¨à¯à®¤ à®®à¯Šà®´à®¿à®¯à®¿à®²à¯à®®à¯!)
// @description:te      à°…à°¨à±à°¨à°¿à°‚à°Ÿà°¿à°¨à±€à°•à°¿à°‚à°Ÿ à°®à°¾à°Ÿà°²à± à°°à°¾à°¯à°‚à°¡à°¿ ChatGPT à°—à±à°°à°¿à°‚à°šà°¿ à°…à°¨à±‡à°• à°œà°µà°¾à°¬à°¾à°²à°¨à± à°¸à±ƒà°·à±à°Ÿà°¿à°‚à°šà°‚à°¡à°¿ (à°à°¦à±ˆà°¨à°¾ à°­à°¾à°·à°²à±‹!)
// @description:tg      Ò¶Ð°Ð²Ð¾Ð±Ò³Ð¾Ð¸ Ð±ÐµÑÑƒÐ´Ð°Ð½Ð½Ð¸ ChatGPTÐ¸ Ò³Ð°Ð¼Ð°Ð¸Ñ„Ð°Ò›Ð°Ñ‚ (Ð´Ð°Ñ€ ÑÐº Ð·Ð°Ð±Ð¾Ð½Ð¸ Ð¼ÑƒÐ°Ð¹ÑÐ½Ð¸!)
// @description:th      à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸•à¸­à¸šà¹„à¸¡à¹ˆà¸ªà¸´à¹‰à¸™à¸ªà¸¸à¸”à¸ˆà¸²à¸ ChatGPT à¸—à¸µà¹ˆà¸£à¸¹à¹‰à¸—à¸¸à¸à¸ªà¸´à¹ˆà¸‡ (à¹ƒà¸™à¸ à¸²à¸©à¸²à¹ƒà¸”à¸à¹‡à¹„à¸”à¹‰!)
// @description:ti      áŠ­áˆ­áˆµá‰µáŠ• áˆˆáˆ›á‹áŒ£á‰µ áŠ¨áŒˆáŒ½á‰³á‹áŠ• ChatGPT á‹¨á‰°áŠ¨áˆ³áˆ½ áŠ áˆµá‰°áŠ«áŠ­áˆ áŠ áˆµá‰°áŠ«áŠ­áˆŽá‰µ (á‰ áŠ¥á‹áŠá‰µ á‰‹áŠ•á‰‹!)
// @description:tk      ÅžeÃ½le anlaÅŸylÃ½an ChatGPT (her hili Ã¼Ã§in) arasyndan bÃ¤ÅŸmÃ¼Åˆhat jawaplar dÃ¶ret
// @description:tn      Hlela zitsha zwine zwiá¹±hiselela kha ChatGPT vhufudziá¹±e (muvhili wo vha u ite!)
// @description:to      Fakatonutonu Ê»ihe ngÄuekesi mei he ChatGPT fakaongoongo toenga (i he lea faka-Tonga ia!)
// @description:tpi     Sanapim hamamasples long save olsem ChatGPT i masples (long wanpela tok ples!)
// @description:tr      Bilge ChatGPT'den sonsuz cevaplar Ã¼ret (herhangi bir dilde!)
// @description:uk      Ð“ÐµÐ½ÐµÑ€ÑƒÐ¹Ñ‚Ðµ Ð±ÐµÐ·ÐºÑ–Ð½ÐµÑ‡Ð½Ñ– Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ– Ð²Ñ–Ð´ ÑƒÑÐµÐ·Ð½Ð°ÑŽÑ‡Ð¾Ð³Ð¾ ChatGPT (Ð½Ð° Ð±ÑƒÐ´ÑŒ-ÑÐºÑ–Ð¹ Ð¼Ð¾Ð²Ñ–!)
// @description:ur      Ø³Ø¨ Ø¬Ø§Ù†Ù†Û’ ÙˆØ§Ù„Û’ ChatGPT Ø³Û’ Ù„Ø§Ù…ØªÙ†Ø§ÛÛŒ Ø¬ÙˆØ§Ø¨Ø§Øª Ù¾ÛŒØ¯Ø§ Ú©Ø±ÛŒÚº (Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ø²Ø¨Ø§Ù† Ù…ÛŒÚº!)
// @description:uz      Barcha biladigan ChatGPT dan cheklovli javoblar oling (hech qanday tilda ham)!
// @description:vi      Táº¡o ra vÃ´ sá»‘ cÃ¢u tráº£ lá»i tá»« ChatGPT thÃ´ng minh (báº±ng báº¥t ká»³ ngÃ´n ngá»¯ nÃ o!)
// @description:xh      Bhala izinto ezingekwaziyo eziyimfihlo kusuka ku ChatGPT (ngolwimi lwanyanetha!)
// @description:yi      ×“×–×©×¢× ×¢×¨×™×™×˜ ×¡×Ö¸×£ ×¢× ×˜×¤Ö¿×¢×¨×¡ ×¤Ö¿×•×Ÿ ×Ö·×œ×¢-×’×¢×•×•×™×¡×Ÿ ChatGPT (××™×Ÿ ×§×™×™×Ÿ ×©×¤Ö¼×¨×Ö·×š!)
// @description:zh      ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-CN   ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-HK   å¾žç„¡æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆç„¡çª®ç„¡ç›¡çš„ç­”æ¡ˆ (ç”¨ä»»ä½•èªžè¨€!)
// @description:zh-SG   ä»Žæ— æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆæ— ç©·æ— å°½çš„ç­”æ¡ˆ (ç”¨ä»»ä½•è¯­è¨€!)
// @description:zh-TW   å¾žç„¡æ‰€ä¸çŸ¥çš„ ChatGPT ç”Ÿæˆç„¡çª®ç„¡ç›¡çš„ç­”æ¡ˆ (ç”¨ä»»ä½•èªžè¨€!)
// @author              Adam Lui
// @namespace           https://github.com/adamlui
// @version             2025.2.16.1
// @license             MIT
// @icon                https://assets.chatgptinfinity.com/images/icons/infinity-symbol/circled/with-robot/icon48.png?v=69e434b
// @icon64              https://assets.chatgptinfinity.com/images/icons/infinity-symbol/circled/with-robot/icon64.png?v=69e434b
// @compatible          chrome
// @compatible          firefox
// @compatible          edge
// @compatible          opera
// @compatible          brave
// @compatible          vivaldi
// @compatible          waterfox
// @compatible          librewolf
// @compatible          ghost
// @compatible          qq
// @compatible          whale
// @compatible          kiwi
// @match               *://chatgpt.com/*
// @connect             cdn.jsdelivr.net
// @connect             gm.chatgptinfinity.com
// @connect             raw.githubusercontent.com
// @require             https://cdn.jsdelivr.net/npm/@kudoai/chatgpt.js@3.6.3/dist/chatgpt.min.js#sha256-pqYk/Y2iYTPCeA6kM8vQXxzv55idgp9Q4Lcz82+0VIw=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@1ae4e33/chromium/extension/components/modals.js#sha256-7uMRCTHm/QvOmoh79h5IrcMmHIsWAR/BxCxfQrNjGkY=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@1ae4e33/chromium/extension/components/toggles.js#sha256-/Mhkvtml+/plN+NDoL3uiKnS97+ycHQ89SYkSNdxBzo=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@1ae4e33/chromium/extension/lib/dom.js#sha256-U+SUWAkqLIY6krdR2WPhVy5/f+cTV03n3F8b+Y+/Py0=
// @require             https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@d06f46a/chromium/extension/lib/settings.js#sha256-CKUzAudngxPTmGJTgdpJaDklEGUo7ylTB+UyyZI0LXc=
// @resource rpgCSS     https://assets.aiwebextensions.com/styles/rising-particles/dist/gray.min.css?v=727feff#sha256-48sEWzNUGUOP04ur52G5VOfGZPSnZQfrF3szUr4VaRs=
// @resource rpwCSS     https://assets.aiwebextensions.com/styles/rising-particles/dist/white.min.css?v=727feff#sha256-6xBXczm7yM1MZ/v0o1KVFfJGehHk47KJjq8oTktH4KE=
// @grant               GM_setValue
// @grant               GM_getValue
// @grant               GM_registerMenuCommand
// @grant               GM_unregisterMenuCommand
// @grant               GM_getResourceText
// @grant               GM_xmlhttpRequest
// @grant               GM.xmlHttpRequest
// @noframes
// @downloadURL         https://gm.chatgptinfinity.com
// @updateURL           https://gm.chatgptinfinity.com
// @homepageURL         https://www.chatgptinfinity.com
// @supportURL          https://support.chatgptinfinity.com
// @contributionURL     https://github.com/sponsors/adamlui
// ==/UserScript==

// Documentation: https://docs.chatgptinfinity.com
// NOTE: This script relies on the powerful chatgpt.js library @ https://chatgpt.js.org
//  Â© 2023â€“2025 KudoAI & contributors under the MIT license.

(async () => {

    // Init ENV context
    const env = {
        browser: {
            language: chatgpt.getUserLanguage(), isFF: chatgpt.browser.isFirefox(), isMobile: chatgpt.browser.isMobile()
        },
        scriptManager: {
            name: (() => { try { return GM_info.scriptHandler } catch (err) { return 'unknown' }})(),
            version: (() => { try { return GM_info.version } catch (err) { return 'unknown' }})()
        },
        ui: { scheme: getScheme() }
    }
    env.browser.isPortrait = env.browser.isMobile && (window.innerWidth < window.innerHeight)
    env.scriptManager.supportsTooltips = env.scriptManager.name == 'Tampermonkey'
                                      && parseInt(env.scriptManager.version.split('.')[0]) >= 5
    const xhr = typeof GM != 'undefined' && GM.xmlHttpRequest || GM_xmlhttpRequest

    // Init APP data
    const app = {
        version: GM_info.script.version, configKeyPrefix: 'chatGPTinfinity',
        chatgptJSver: /chatgpt\.js@([\d.]+)/.exec(GM_info.scriptMetaStr)[1],
        urls: { update: 'https://gm.chatgptinfinity.com' },
        latestResourceCommitHash: 'ac13c74' // for cached app.json + messages.json + navicon in toggles.sidebar.insert()
    }
    app.urls.resourceHost = `https://cdn.jsdelivr.net/gh/adamlui/chatgpt-infinity@${app.latestResourceCommitHash}`
    const remoteAppData = await new Promise(resolve => xhr({
        method: 'GET', url: `${app.urls.resourceHost}/assets/data/app.json`,
        onload: resp => resolve(JSON.parse(resp.responseText))
    }))
    Object.assign(app, { ...remoteAppData, urls: { ...app.urls, ...remoteAppData.urls }})
    app.msgs = {
        appName: app.name,
        appAuthor: app.author.name,
        appDesc: 'Generate endless answers from all-knowing ChatGPT (in any language!)',
        menuLabel_infinityMode: 'Infinity Mode',
        menuLabel_autoStart: 'Auto-Start',
        menuLabel_toggleVis: 'Toggle Visibility',
        menuLabel_autoScroll: 'Auto-Scroll',
        menuLabel_replyLang: 'Reply Language',
        menuLabel_replyTopic: 'Reply Topic',
        menuLabel_all: 'ALL',
        menuLabel_replyInt: 'Reply Interval',
        menuLabel_about: 'About',
        menuLabel_donate: 'Please send a donation',
        menuLabel_disabled: 'Disabled (extension installed)',
        about_author: 'Author',
        about_and: '&',
        about_contributors: 'contributors',
        about_version: 'Version',
        about_poweredBy: 'Powered by',
        about_openSourceCode: 'Open source code',
        prompt_updateReplyLang: 'Update reply language',
        prompt_updateReplyTopic: 'Update reply topic',
        prompt_orEnter: 'or enter',
        prompt_updateReplyInt: 'Update reply interval (minimum 5 secs)',
        helptip_autoStart: 'Automatically start Infinity Mode when visiting chatgpt.com',
        helptip_toggleVis: 'Show Infinity Mode toggle in sidebar',
        helptip_autoScroll: 'Automatically scroll to bottom as replies are generating',
        alert_replyLangUpdated: 'Language updated',
        alert_willReplyIn: 'will reply in',
        alert_yourSysLang: 'your system language',
        alert_replyTopicUpdated: 'Topic updated',
        alert_willAnswer: 'will answer questions',
        alert_onTopicOf: 'on the topic of',
        alert_onAllTopics: 'on ALL topics',
        alert_replyIntUpdated: 'Interval updated',
        alert_willReplyEvery: 'will reply every',
        alert_choosePlatform: 'Choose a platform',
        alert_updateAvail: 'Update available',
        alert_newerVer: 'An update to',
        alert_isAvail: 'is available',
        alert_upToDate: 'Up-to-date',
        alert_isUpToDate: 'is up-to-date',
        alert_showYourSupport: 'Show your support',
        alert_isOSS: 'is open-source software built & maintained for free through 100% volunteer efforts',
        alert_despiteAffliction: 'Despite being severely afflicted by',
        alert_longCOVID: 'long COVID',
        alert_since2020: 'since 2020',
        alert_byDonatingResults: 'by donating, you help me to continue improving, fixing bugs, adding new features, and making the software even better',
        alert_yourContrib: 'Your contribution',
        alert_noMatterSize: 'no matter the size',
        alert_directlySupports: 'directly supports my unpaid efforts to ensure this project remains free and open for all to use',
        alert_tyForSupport: 'Thank you for your support',
        btnLabel_moreAIextensions: 'More AI Extensions',
        btnLabel_rateUs: 'Rate Us',
        btnLabel_discuss: 'Discuss',
        btnLabel_getSupport: 'Get Support',
        btnLabel_checkForUpdates: 'Check for Updates',
        btnLabel_update: 'Update',
        btnLabel_dismiss: 'Dismiss',
        link_viewChanges: 'View changes',
        unit_seconds: 'seconds',
        state_enabled: 'enabled',
        state_disabled: 'disabled',
        state_on: 'on',
        state_off: 'off'
    }

    // LOCALIZE app.msgs for non-English users
    if (!env.browser.language.startsWith('en')) {
        const localizedMsgs = await new Promise(resolve => {
            const msgHostDir = app.urls.resourceHost + '/chromium/extension/_locales/',
                  msgLocaleDir = ( env.browser.language ? env.browser.language.replace('-', '_') : 'en' ) + '/'
            let msgHref = msgHostDir + msgLocaleDir + 'messages.json', msgXHRtries = 0
            function fetchMsgs() { xhr({ method: 'GET', url: msgHref, onload: handleMsgs })}
            function handleMsgs(resp) {
                try { // to return localized messages.json
                    const msgs = JSON.parse(resp.responseText), flatMsgs = {}
                    for (const key in msgs)  // remove need to ref nested keys
                        if (typeof msgs[key] == 'object' && 'message' in msgs[key])
                            flatMsgs[key] = msgs[key].message
                    resolve(flatMsgs)
                } catch (err) { // if bad response
                    msgXHRtries++ ; if (msgXHRtries == 3) return resolve({}) // try original/region-stripped/EN only
                    msgHref = env.browser.language.includes('-') && msgXHRtries == 1 ? // if regional lang on 1st try...
                        msgHref.replace(/([^_]+_[^_]+)_[^/]*(\/.*)/, '$1$2') // ...strip region before retrying
                            : ( msgHostDir + 'en/messages.json' ) // else use default English messages
                    fetchMsgs()
                }
            }
            fetchMsgs()
        })
        Object.assign(app.msgs, localizedMsgs)
    }

    // Export DEPENDENCIES to imported resources
    dom.import({ scheme: env.ui.scheme }) // for dom.addRisingParticles()
    modals.import({ app, env, updateCheck }) // for app data + env['<browser|ui>'] flags + modals.about() update btn
    settings.import({ app }) // for app.configKeyPrefix

    // Init SETTINGS
    settings.load(Object.keys(settings.controls).filter(key => key != 'infinityMode')) // exclude infinityMode...
    settings.save('infinityMode', false) // ...to always init as false
    if (!config.replyLanguage) settings.save('replyLanguage', env.browser.language) // init reply language if unset
    if (!config.replyTopic) settings.save('replyTopic', app.msgs.menuLabel_all) // init reply topic if unset
    if (!config.replyInterval) settings.save('replyInterval', 7) // init refresh interval to 7 secs if unset

    // Define MENU functions

    const toolbarMenu = {
        ids: [], state: {
            symbols: ['âŒ', 'âœ”ï¸'], separator: env.scriptManager.name == 'Tampermonkey' ? ' â€” ' : ': ',
            words: [app.msgs.state_off.toUpperCase(), app.msgs.state_on.toUpperCase()]
        },

        refresh() {
            if (typeof GM_unregisterMenuCommand == 'undefined') return
            for (const id of this.ids) { GM_unregisterMenuCommand(id) } this.register()
        },

        register() {

            // Show "Disabled (extension installed)"
            if (env.extensionInstalled)
                GM_registerMenuCommand(`${this.state.symbols[0]} ${app.msgs.menuLabel_disabled}`,
                    () => modals.open('about'), env.scriptManager.supportsTooltips ? { title: ' ' } : undefined )

            // ...or add settings entries
            else {
                const re_all = new RegExp(`^(${app.msgs.menuLabel_all}|all|any|every)$`, 'i')

                // Add setting entries
                Object.keys(settings.controls).forEach(key => {
                    const settingIsEnabled = config[key] ^ /disabled|hidden/i.test(key)
                    const menuLabel = `${ settings.controls[key].symbol || this.state.symbols[+settingIsEnabled] } `
                                    + settings.controls[key].label
                                    + ( settings.controls[key].type == 'toggle' ? this.state.separator
                                                                                + this.state.words[+settingIsEnabled]
                                                                                : `â€” ${settings.controls[key].status}` )
                    this.ids.push(GM_registerMenuCommand(menuLabel, () => {
                        if (settings.controls[key].type == 'toggle') {
                            settings.save(key, !config[key])
                            notify(`${settings.controls[key].label}: ${
                                this.state.words[+(/disabled|hidden/i.test(key) ^ config[key])]}`)
                        } else if (key == 'replyLanguage') {
                            while (true) {
                                let replyLang = prompt(
                                    `${app.msgs.prompt_updateReplyLang}:`, config.replyLanguage)
                                if (replyLang == null) break // user cancelled so do nothing
                                else if (!/\d/.test(replyLang)) { // valid reply language set
                                    replyLang = ( // auto-case for menu/alert aesthetics
                                        replyLang.length < 4 || replyLang.includes('-') ? replyLang.toUpperCase()
                                            : replyLang.charAt(0).toUpperCase() + replyLang.slice(1).toLowerCase() )
                                    settings.save('replyLanguage', replyLang || env.browser.language)
                                    modals.alert(( app.msgs.alert_replyLangUpdated ) + '!', // title
                                        ( app.msgs.appName ) + ' ' // msg
                                            + ( app.msgs.alert_willReplyIn ) + ' '
                                            + ( replyLang || app.msgs.alert_yourSysLang) + '.'
                                    )
                                    break
                                }
                            }
                        } else if (key == 'replyTopic') {
                            let replyTopic = prompt(( app.msgs.prompt_updateReplyTopic )
                                + ' (' + ( app.msgs.prompt_orEnter ) + ' \'ALL\'):', config.replyTopic)
                            if (replyTopic != null) { // user didn't cancel
                                replyTopic = toTitleCase(replyTopic.toString()) // for menu/alert aesthetics
                                settings.save('replyTopic',
                                    !replyTopic || re_all.test(replyTopic) ? app.msgs.menuLabel_all : replyTopic)
                                modals.alert(`${app.msgs.alert_replyTopicUpdated}!`,
                                    `${app.msgs.appName} ${app.msgs.alert_willAnswer} `
                                        + ( !replyTopic || re_all.test(replyTopic) ? app.msgs.alert_onAllTopics
                                            : `${app.msgs.alert_onTopicOf} ${replyTopic}` )
                                        + '!'
                                )
                            }
                        } else if (key == 'replyInterval') {
                            while (true) {
                                const replyInterval = prompt(
                                    `${app.msgs.prompt_updateReplyInt}:`, config.replyInterval)
                                if (replyInterval == null) break // user cancelled so do nothing
                                else if (!isNaN(parseInt(replyInterval, 10)) && parseInt(replyInterval, 10) > 4) {
                                    settings.save('replyInterval', parseInt(replyInterval, 10))
                                    modals.alert(( app.msgs.alert_replyIntUpdated ) + '!', // title
                                        ( app.msgs.appName ) + ' ' // msg
                                            + ( app.msgs.alert_willReplyEvery ) + ' '
                                            + replyInterval + ' ' + ( app.msgs.unit_seconds ) + '.'
                                    )
                                    break
                                }
                            }
                        }
                        syncConfigToUI({ updatedKey: key })
                    }, env.scriptManager.supportsTooltips ? { title: settings.controls[key].helptip || ' ' } : undefined))
                })
            }

            // Add About/Donate entries
            ['about', 'donate'].forEach(entryType => {
                if (entryType === 'donate' && env.extensionInstalled) return
                this.ids.push(GM_registerMenuCommand(
                    `${ entryType == 'about' ? 'ðŸ’¡' : 'ðŸ’–' }`
                        + ` ${app.msgs[`menuLabel_${entryType}`]} ${ entryType == 'about' ? app.msgs.appName : '' }`,
                    () => modals.open(entryType), env.scriptManager.supportsTooltips ? { title: ' ' } : undefined
                ))
            })
        }
    }

    function updateCheck() {
        xhr({
            method: 'GET', url: app.urls.update + '?t=' + Date.now(),
            headers: { 'Cache-Control': 'no-cache' },
            onload: resp => {

                // Compare versions, alert if update found
                app.latestVer = /@version +(.*)/.exec(resp.responseText)?.[1]
                if (app.latestVer) for (let i = 0 ; i < 4 ; i++) { // loop thru subver's
                    const currentSubVer = parseInt(app.version.split('.')[i], 10) || 0,
                          latestSubVer = parseInt(app.latestVer.split('.')[i], 10) || 0
                    if (currentSubVer > latestSubVer) break // out of comparison since not outdated
                    else if (latestSubVer > currentSubVer) // if outdated
                        return modals.open('update', 'available')
                }

                // Alert to no update found, nav back to About
                modals.open('update', 'unavailable')
        }})
    }

    function toTitleCase(str) {
        if (!str) return ''
        const words = str.toLowerCase().split(' ')
        for (let i = 0 ; i < words.length ; i++) // for each word
            words[i] = words[i][0].toUpperCase() + words[i].slice(1) // title-case it
        return words.join(' ') // join'em back together
    }

    // Define FEEDBACK functions

    function notify(msg, pos = '', notifDuration = '', shadow = '') {

        // Strip state word to append colored one later
        const foundState = toolbarMenu.state.words.find(word => msg.includes(word))
        if (foundState) msg = msg.replace(foundState, '')

        // Show notification
        chatgpt.notify(`${app.symbol} ${msg}`, pos, notifDuration, shadow || env.ui.scheme == 'dark' ? '' : 'shadow')
        const notif = document.querySelector('.chatgpt-notif:last-child')

        // Append styled state word
        if (foundState) {
            const stateStyles = {
                on: {
                    light: 'color: #5cef48 ; text-shadow: rgba(255,250,169,0.38) 2px 1px 5px',
                    dark:  'color: #5cef48 ; text-shadow: rgb(55,255,0) 3px 0 10px'
                },
                off: {
                    light: 'color: #ef4848 ; text-shadow: rgba(255,169,225,0.44) 2px 1px 5px',
                    dark:  'color: #ef4848 ; text-shadow: rgba(255, 116, 116, 0.87) 3px 0 9px'
                }
            }
            const styledStateSpan = dom.create.elem('span')
            styledStateSpan.style.cssText = stateStyles[
                foundState == toolbarMenu.state.words[0] ? 'off' : 'on'][env.ui.scheme]
            styledStateSpan.append(foundState) ; notif.append(styledStateSpan)
        }
    }

    // Define UI functions

    chatgpt.isIdle = function() { // replace waiting for chat to start in case of interrupts
        return new Promise(resolve => { // when stop btn missing
            new MutationObserver((_, obs) => {
                if (!chatgpt.getStopBtn()) { obs.disconnect(); resolve() }
            }).observe(document.body, { childList: true, subtree: true })
        })
    }

    function getScheme() {
        return document.documentElement.className
            || (window.matchMedia?.('(prefers-color-scheme: dark)')?.matches ? 'dark' : 'light')
    }

    function syncConfigToUI(options) {
        if (options?.updatedKey == 'infinityMode') infinity[config.infinityMode ? 'activate' : 'deactivate']()
        else if (settings.controls[options?.updatedKey].type == 'prompt' && config.infinityMode)
            infinity.restart({ target: options?.updatedKey == 'replyInterval' ? 'self' : 'new' })
        if (/infinityMode|toggleHidden/.test(options?.updatedKey)) toggles.sidebar.update.state()
        toolbarMenu.refresh() // prefixes/suffixes
    }

    // Define INFINITY MODE functions

    const infinity = {

        async activate() {
            const activatePrompt = 'Generate a single random question'
                + ( config.replyLanguage ? ( ' in ' + config.replyLanguage ) : '' )
                + ( ' on ' + ( config.replyTopic == 'ALL' ? 'ALL topics' : 'the topic of ' + config.replyTopic ))
                + ' then answer it. Don\'t type anything else.'
            if (env.browser.isMobile && chatgpt.sidebar.isOn()) chatgpt.sidebar.hide()
            if (!new URL(location).pathname.startsWith('/g/')) // not on GPT page
                try { chatgpt.startNewChat() } catch (err) { return } // start new chat
            await new Promise(resolve => setTimeout(resolve, 500)) // sleep 500ms
            chatgpt.send(activatePrompt)
            await new Promise(resolve => setTimeout(resolve, 3000)) // sleep 3s
            if (!document.querySelector('[data-message-author-role]') // new chat reset due to OpenAI bug
                && config.infinityMode) // ...and toggle still active
                    chatgpt.send(activatePrompt) // ...so prompt again
            await chatgpt.isIdle()
            if (config.infinityMode && !infinity.isActive) // double-check in case de-activated before scheduled
                infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
        },

        async continue() {
            if (!config.autoScrollDisabled) try { chatgpt.scrollToBottom() } catch(err) {}
            chatgpt.send('Do it again.')
            await chatgpt.isIdle() // before starting delay till next iteration
            if (infinity.isActive) // replace timer
                infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
        },

        deactivate() {
            if (chatgpt.getStopBtn()) chatgpt.stop()
            clearTimeout(infinity.isActive) ; infinity.isActive = null
        },

        async restart(options = { target: 'new' }) {
            if (options.target == 'new') {
                infinity.deactivate() ; setTimeout(() => infinity.activate(), 750)
            } else {
                clearTimeout(infinity.isActive) ; infinity.isActive = null ; await chatgpt.isIdle()
                if (config.infinityMode && !infinity.isActive) // double-check in case de-activated before scheduled
                    infinity.isActive = setTimeout(infinity.continue, parseInt(config.replyInterval, 10) * 1000)
            }
        }
    }

    // Run MAIN routine

    // Preload sidebar NAVICON variants
    toggles.import({ app, env, notify, syncConfigToUI })
    toggles.sidebar.update.navicon({ preload: true })

    // Create browser TOOLBAR MENU or DISABLE SCRIPT if extension installed
    env.extensionInstalled = await Promise.race([
        new Promise(resolve => {
            (function checkExtensionInstalled() {
                if (document.documentElement.hasAttribute('chatgpt-infinity-extension-installed')) resolve(true)
                else setTimeout(checkExtensionInstalled, 200)
            })()
        }), new Promise(resolve => setTimeout(() => resolve(false), 1500))])

    toolbarMenu.register() ; if (env.extensionInstalled) return

    // Init BROWSER/UI props
    await Promise.race([chatgpt.isLoaded(), new Promise(resolve => setTimeout(resolve, 5000))]) // initial UI loaded
    await chatgpt.sidebar.isLoaded()
    env.ui.firstLink = chatgpt.getNewChatLink()

    // Add LISTENER to auto-disable Infinity Mode
    if ('hidden' in document) // ...if Page Visibility API supported
        document.onvisibilitychange = () => {
            if (config.infinityMode) {
                settings.save('infinityMode', false) ; syncConfigToUI({ updatedKey: 'infinityMode' }) }
        }

    // Add RISING PARTICLES styles
    ['rpg', 'rpw'].forEach(cssType => document.head.append(dom.create.style(GM_getResourceText(`${cssType}CSS`))))

    toggles.sidebar.insert()

    // Auto-start if enabled
    if (config.autoStart) {
        settings.save('infinityMode', true) ; syncConfigToUI({ updatedKey: 'infinityMode' })
        notify(`${app.msgs.menuLabel_autoStart}: ${app.msgs.state_on.toUpperCase()}`)
    }

    // Monitor NODE CHANGES to maintain sidebar toggle visibility
    new MutationObserver(() => {
        if (!config.toggleHidden && !document.querySelector(`.${toggles.sidebar.class}`)
            && toggles.sidebar.status != 'inserting') {
                toggles.sidebar.status = 'missing' ; toggles.sidebar.insert() }
    }).observe(document.body, { attributes: true, subtree: true })

    // Monitor SCHEME PREF changes to update sidebar toggle + modal colors
    new MutationObserver(handleSchemePrefChange).observe( // for site scheme pref changes
        document.documentElement, { attributes: true, attributeFilter: ['class'] })
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener( // for browser/system scheme pref changes
        'change', () => requestAnimationFrame(handleSchemePrefChange))
    function handleSchemePrefChange() {
        const displayedScheme = getScheme()
        if (env.ui.scheme != displayedScheme) {
            env.ui.scheme = displayedScheme ; toggles.sidebar.update.scheme() ; modals.stylize() }
    }

    // Disable distracting SIDEBAR CLICK-ZOOM effect
    if (!document.documentElement.hasAttribute('sidebar-click-zoom-observed')) {
        new MutationObserver(mutations => mutations.forEach(({ target }) => {
            if (target.closest('[class*=sidebar]') // include sidebar elems
                && !target.closest('[class*=sidebar-toggle]') // exclude our toggles.sidebar's elems
                && target.style.transform != 'none' // click-zoom occurred
            ) target.style.transform = 'none'
        })).observe(document.body, { attributes: true, subtree: true, attributeFilter: ['style'] })
        document.documentElement.setAttribute('sidebar-click-zoom-observed', true)
    }

})()
